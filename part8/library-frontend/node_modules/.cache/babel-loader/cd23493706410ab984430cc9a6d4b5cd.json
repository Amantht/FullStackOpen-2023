{"ast":null,"code":"var _jsxFileName = \"/Users/devchaudhary/Downloads/FullStackOpen-2022-main/part8/library-frontend/src/components/BornYearForm.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useMutation } from '@apollo/client';\nimport Select from 'react-select';\nimport { EDIT_BORN_YEAR, ALL_AUTHORS } from '../queries';\n\nconst BornYearForm = ({\n  notify,\n  allAuthors\n}) => {\n  const [nameOptions, setNameOptions] = useState(null);\n  const [setBornTo, setBornYear] = useState('');\n  const [changeBornYear, result] = useMutation(EDIT_BORN_YEAR, {\n    refetchQueries: [{\n      query: ALL_AUTHORS\n    }]\n  });\n  const options = [];\n  allAuthors.forEach(author => options.push({\n    value: author.name,\n    label: author.name\n  }));\n\n  const submit = event => {\n    event.preventDefault();\n    const name = nameOptions.value;\n    changeBornYear({\n      variables: {\n        name,\n        setBornTo\n      }\n    });\n    setNameOptions('');\n    setBornYear('');\n  };\n\n  useEffect(() => {\n    if (result.data && result.data.editAuthor === null) {\n      notify('Author not found');\n    }\n  }, [result.data]); // eslint-disable-line \n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, \"Set birthyear\"), React.createElement(\"form\", {\n    onSubmit: submit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(Select, {\n    value: nameOptions,\n    onChange: setNameOptions,\n    options: options,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, \"born \", React.createElement(\"input\", {\n    value: setBornTo,\n    onChange: ({\n      target\n    }) => setBornYear(parseInt(target.value)),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, \"update author\")));\n};\n\nexport default BornYearForm;","map":{"version":3,"sources":["/Users/devchaudhary/Downloads/FullStackOpen-2022-main/part8/library-frontend/src/components/BornYearForm.js"],"names":["React","useState","useEffect","useMutation","Select","EDIT_BORN_YEAR","ALL_AUTHORS","BornYearForm","notify","allAuthors","nameOptions","setNameOptions","setBornTo","setBornYear","changeBornYear","result","refetchQueries","query","options","forEach","author","push","value","name","label","submit","event","preventDefault","variables","data","editAuthor","target","parseInt"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,WAAT,QAA4B,gBAA5B;AACA,OAAOC,MAAP,MAAmB,cAAnB;AAEA,SAASC,cAAT,EAAyBC,WAAzB,QAA4C,YAA5C;;AAGA,MAAMC,YAAY,GAAG,CAAC;AAACC,EAAAA,MAAD;AAASC,EAAAA;AAAT,CAAD,KAA0B;AAC7C,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCV,QAAQ,CAAC,IAAD,CAA9C;AACA,QAAM,CAACW,SAAD,EAAYC,WAAZ,IAA2BZ,QAAQ,CAAC,EAAD,CAAzC;AAEA,QAAM,CAAEa,cAAF,EAAkBC,MAAlB,IAA6BZ,WAAW,CAACE,cAAD,EAAiB;AAC7DW,IAAAA,cAAc,EAAE,CACZ;AAAEC,MAAAA,KAAK,EAAEX;AAAT,KADY;AAD6C,GAAjB,CAA9C;AAMA,QAAMY,OAAO,GAAG,EAAhB;AACAT,EAAAA,UAAU,CAACU,OAAX,CAAmBC,MAAM,IAAIF,OAAO,CAACG,IAAR,CACzB;AACEC,IAAAA,KAAK,EAAEF,MAAM,CAACG,IADhB;AAEEC,IAAAA,KAAK,EAAEJ,MAAM,CAACG;AAFhB,GADyB,CAA7B;;AAMA,QAAME,MAAM,GAAIC,KAAD,IAAW;AACxBA,IAAAA,KAAK,CAACC,cAAN;AAEA,UAAMJ,IAAI,GAAGb,WAAW,CAACY,KAAzB;AAEAR,IAAAA,cAAc,CAAC;AAAEc,MAAAA,SAAS,EAAE;AAAEL,QAAAA,IAAF;AAAQX,QAAAA;AAAR;AAAb,KAAD,CAAd;AACAD,IAAAA,cAAc,CAAC,EAAD,CAAd;AACAE,IAAAA,WAAW,CAAC,EAAD,CAAX;AACD,GARD;;AAUAX,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAIa,MAAM,CAACc,IAAP,IAAed,MAAM,CAACc,IAAP,CAAYC,UAAZ,KAA2B,IAA9C,EAAoD;AAChDtB,MAAAA,MAAM,CAAC,kBAAD,CAAN;AACD;AACJ,GAJM,EAIJ,CAACO,MAAM,CAACc,IAAR,CAJI,CAAT,CA3B6C,CA+BxB;;AAErB,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,EAGE;AAAM,IAAA,QAAQ,EAAEJ,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,MAAD;AACE,IAAA,KAAK,EAAEf,WADT;AAEE,IAAA,QAAQ,EAAEC,cAFZ;AAGE,IAAA,OAAO,EAAEO,OAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,EAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cACO;AACH,IAAA,KAAK,EAAEN,SADJ;AAEH,IAAA,QAAQ,EAAE,CAAC;AAAEmB,MAAAA;AAAF,KAAD,KAAgBlB,WAAW,CAACmB,QAAQ,CAACD,MAAM,CAACT,KAAR,CAAT,CAFlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADP,CARF,EAcE;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAdF,CAHF,CADF;AAsBD,CAvDD;;AAyDA,eAAef,YAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { useMutation } from '@apollo/client'\nimport Select from 'react-select'\n\nimport { EDIT_BORN_YEAR, ALL_AUTHORS } from '../queries'\n\n\nconst BornYearForm = ({notify, allAuthors}) => {\n  const [nameOptions, setNameOptions] = useState(null)\n  const [setBornTo, setBornYear] = useState('')\n\n  const [ changeBornYear, result ] = useMutation(EDIT_BORN_YEAR, {\n    refetchQueries: [ \n        { query: ALL_AUTHORS } \n      ]\n  })\n\n  const options = []\n  allAuthors.forEach(author => options.push(\n      {\n        value: author.name,\n        label: author.name\n    }))\n  \n  const submit = (event) => {\n    event.preventDefault()\n\n    const name = nameOptions.value\n\n    changeBornYear({ variables: { name, setBornTo } })\n    setNameOptions('')\n    setBornYear('')\n  }\n\n  useEffect(() => {    \n      if (result.data && result.data.editAuthor === null) {      \n          notify('Author not found')    \n        }  \n    }, [result.data])  // eslint-disable-line \n\n  return (\n    <div>\n      <h2>Set birthyear</h2>\n\n      <form onSubmit={submit}>\n        <div>\n          <Select\n            value={nameOptions}\n            onChange={setNameOptions}\n            options={options}\n          />\n        </div>\n        <div>\n          born <input\n            value={setBornTo}\n            onChange={({ target }) => setBornYear(parseInt(target.value))}\n          />\n        </div>\n        <button type='submit'>update author</button>\n      </form>\n    </div>\n  )\n}\n\nexport default BornYearForm"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"/Users/devchaudhary/Downloads/FullStackOpen-2022-main/part8/library-frontend/src/App.js\";\nimport React, { useState } from 'react';\nimport { useApolloClient } from '@apollo/client';\nimport Authors from './components/Authors';\nimport Books from './components/Books';\nimport BookForm from './components/BookForm';\nimport LoginForm from './components/LoginForm';\nimport Recommended from './components/Recommended';\n\nconst Notify = ({\n  errorMessage\n}) => {\n  if (!errorMessage) {\n    return null;\n  }\n\n  return React.createElement(\"div\", {\n    style: {\n      color: 'red'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15\n    },\n    __self: this\n  }, errorMessage);\n};\n\nconst App = () => {\n  const [token, setToken] = useState(null);\n  const [page, setPage] = useState('authors');\n  const [errorMessage, setErrorMessage] = useState(null);\n  const client = useApolloClient();\n\n  const notify = message => {\n    setErrorMessage(message);\n    setTimeout(() => {\n      setErrorMessage(null);\n    }, 10000);\n  };\n\n  const logout = () => {\n    setToken(null);\n    localStorage.clear();\n    client.resetStore();\n  };\n\n  if (!token) {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, React.createElement(Notify, {\n      errorMessage: errorMessage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, \"Login\"), React.createElement(LoginForm, {\n      setToken: setToken,\n      setError: notify,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }));\n  }\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    onClick: logout,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, \"logout\"), React.createElement(\"button\", {\n    onClick: () => setPage('authors'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, \"authors\"), React.createElement(\"button\", {\n    onClick: () => setPage('books'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, \"books\"), React.createElement(\"button\", {\n    onClick: () => setPage('recommended'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, \"recommended\"), React.createElement(\"button\", {\n    onClick: () => setPage('add'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, \"add book\")), React.createElement(Notify, {\n    errorMessage: errorMessage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }), React.createElement(Authors, {\n    show: page === 'authors',\n    notify: notify,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }), React.createElement(Books, {\n    show: page === 'books',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }), React.createElement(Recommended, {\n    show: page === 'recommended',\n    notify: notify,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }), React.createElement(BookForm, {\n    show: page === 'add',\n    notify: notify,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }));\n};\n\nexport default App;","map":{"version":3,"sources":["/Users/devchaudhary/Downloads/FullStackOpen-2022-main/part8/library-frontend/src/App.js"],"names":["React","useState","useApolloClient","Authors","Books","BookForm","LoginForm","Recommended","Notify","errorMessage","color","App","token","setToken","page","setPage","setErrorMessage","client","notify","message","setTimeout","logout","localStorage","clear","resetStore"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport { useApolloClient } from '@apollo/client'\n\nimport Authors from './components/Authors'\nimport Books from './components/Books'\nimport BookForm from './components/BookForm'\nimport LoginForm from './components/LoginForm'\nimport Recommended from './components/Recommended'\n\nconst Notify = ({errorMessage}) => {  \n  if ( !errorMessage ) {    \n    return null  \n  }  \n  return (    \n    <div style={{color: 'red'}}>    \n    {errorMessage}    \n    </div>  \n    )\n }\n\nconst App = () => {\n  const [token, setToken] = useState(null)\n  const [page, setPage] = useState('authors')\n  const [errorMessage, setErrorMessage] = useState(null)\n  const client = useApolloClient()\n\n  const notify = (message) => {    \n    setErrorMessage(message)    \n    setTimeout(() => {      \n      setErrorMessage(null)    \n    }, 10000)  \n  }\n\n  const logout = () => {    \n    setToken(null)    \n    localStorage.clear()    \n    client.resetStore()  \n  }\n\n  if (!token) {\n    return (\n      <div>\n        <Notify errorMessage={errorMessage} />\n        <h2>Login</h2>\n        <LoginForm\n          setToken={setToken}\n          setError={notify}\n        />\n      </div>\n    )\n  }\n\n  return (\n    <div>\n      <div>\n      <button onClick={logout}>logout</button>\n        <button onClick={() => setPage('authors')}>authors</button>\n        <button onClick={() => setPage('books')}>books</button>\n        <button onClick={() => setPage('recommended')}>recommended</button>\n        <button onClick={() => setPage('add')}>add book</button>\n      </div>\n\n      <Notify errorMessage={errorMessage} />\n\n      <Authors\n        show={page === 'authors'} notify={notify}\n      />\n\n      <Books\n        show={page === 'books'}\n      />\n\n      <Recommended\n        show={page === 'recommended'} notify={notify}\n      />\n\n      <BookForm\n        show={page === 'add'} notify={notify}\n      />\n\n    </div>\n  )\n}\n\nexport default App"]},"metadata":{},"sourceType":"module"}
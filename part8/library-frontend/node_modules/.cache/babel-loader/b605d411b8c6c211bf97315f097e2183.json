{"ast":null,"code":"var _jsxFileName = \"/Users/devchaudhary/Downloads/FullStackOpen-2022-main/part8/library-frontend/src/components/Recommended.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useLazyQuery, useQuery } from '@apollo/client';\nimport { ME, ALL_BOOKS_WITH_GENRE } from '../queries';\n\nconst Recommended = ({\n  show\n}) => {\n  const user = useQuery(ME);\n  const [getFavoriteBooks, result] = useLazyQuery(ALL_BOOKS_WITH_GENRE);\n  const [favoriteBooks, setFavoriteBooks] = useState([]);\n  useEffect(() => {\n    if (result.data) {\n      setFavoriteBooks(result.data.allBooks);\n    }\n  }, [setFavoriteBooks, result]);\n  useEffect(() => {\n    if (user.data) {\n      getFavoriteBooks({\n        variables: {\n          genre: user.data.me.favoriteGenre\n        }\n      });\n    }\n  }, [getFavoriteBooks, user]);\n\n  if (!show) {\n    return null;\n  }\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }, \"books in your favorite genre \", React.createElement(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, user.data.me.favoriteGenre)), React.createElement(\"table\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, \"author\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, \"published\")), favoriteBooks.map(a => React.createElement(\"tr\", {\n    key: a.title,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, a.title), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, a.author.name), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, a.published))))));\n};\n\nexport default Recommended;","map":{"version":3,"sources":["/Users/devchaudhary/Downloads/FullStackOpen-2022-main/part8/library-frontend/src/components/Recommended.js"],"names":["React","useState","useEffect","useLazyQuery","useQuery","ME","ALL_BOOKS_WITH_GENRE","Recommended","show","user","getFavoriteBooks","result","favoriteBooks","setFavoriteBooks","data","allBooks","variables","genre","me","favoriteGenre","map","a","title","author","name","published"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,YAAT,EAAuBC,QAAvB,QAAuC,gBAAvC;AACA,SAASC,EAAT,EAAaC,oBAAb,QAAyC,YAAzC;;AAEA,MAAMC,WAAW,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAc;AAChC,QAAMC,IAAI,GAAGL,QAAQ,CAACC,EAAD,CAArB;AACA,QAAM,CAACK,gBAAD,EAAmBC,MAAnB,IAA6BR,YAAY,CAACG,oBAAD,CAA/C;AACA,QAAM,CAACM,aAAD,EAAgBC,gBAAhB,IAAoCZ,QAAQ,CAAC,EAAD,CAAlD;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIS,MAAM,CAACG,IAAX,EAAiB;AACfD,MAAAA,gBAAgB,CAACF,MAAM,CAACG,IAAP,CAAYC,QAAb,CAAhB;AACD;AACF,GAJQ,EAIN,CAACF,gBAAD,EAAmBF,MAAnB,CAJM,CAAT;AAMAT,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIO,IAAI,CAACK,IAAT,EAAe;AACbJ,MAAAA,gBAAgB,CAAC;AAAEM,QAAAA,SAAS,EAAE;AAAEC,UAAAA,KAAK,EAAER,IAAI,CAACK,IAAL,CAAUI,EAAV,CAAaC;AAAtB;AAAb,OAAD,CAAhB;AACD;AACF,GAJQ,EAIN,CAACT,gBAAD,EAAmBD,IAAnB,CAJM,CAAT;;AAMA,MAAI,CAACD,IAAL,EAAW;AACT,WAAO,IAAP;AACD;;AAED,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCAC+B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIC,IAAI,CAACK,IAAL,CAAUI,EAAV,CAAaC,aAAjB,CAD/B,CADF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAHF,CADF,EAMGP,aAAa,CAACQ,GAAd,CAAmBC,CAAD,IACjB;AAAI,IAAA,GAAG,EAAEA,CAAC,CAACC,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKD,CAAC,CAACC,KAAP,CADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKD,CAAC,CAACE,MAAF,CAASC,IAAd,CAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKH,CAAC,CAACI,SAAP,CAHF,CADD,CANH,CADF,CAJF,CADF;AAuBD,CA5CD;;AA8CA,eAAelB,WAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { useLazyQuery, useQuery } from '@apollo/client'\nimport { ME, ALL_BOOKS_WITH_GENRE } from '../queries'\n\nconst Recommended = ({ show }) => {\n  const user = useQuery(ME)\n  const [getFavoriteBooks, result] = useLazyQuery(ALL_BOOKS_WITH_GENRE)\n  const [favoriteBooks, setFavoriteBooks] = useState([])\n\n  useEffect(() => {\n    if (result.data) {\n      setFavoriteBooks(result.data.allBooks)\n    }\n  }, [setFavoriteBooks, result])\n\n  useEffect(() => {\n    if (user.data) {\n      getFavoriteBooks({ variables: { genre: user.data.me.favoriteGenre } })\n    }\n  }, [getFavoriteBooks, user])\n\n  if (!show) {\n    return null\n  }\n\n  return (\n    <div>\n      <p>\n        books in your favorite genre <b>{user.data.me.favoriteGenre}</b>\n      </p>\n      <table>\n        <tbody>\n          <tr>\n            <th></th>\n            <th>author</th>\n            <th>published</th>\n          </tr>\n          {favoriteBooks.map((a) => (\n            <tr key={a.title}>\n              <td>{a.title}</td>\n              <td>{a.author.name}</td>\n              <td>{a.published}</td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  )\n}\n\nexport default Recommended"]},"metadata":{},"sourceType":"module"}